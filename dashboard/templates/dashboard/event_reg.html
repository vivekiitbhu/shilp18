{% load static %}
{% load staticfiles %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <meta name="language"                  content="en-us" />
    <meta name="description"               content="Shilp is the Annual Fest of Civil Engineering IIT (BHU) Varanasi ">
    <meta http-equiv="Content-Type"        content="text/html; charset=UTF-8">
    <meta name="keywords"                  content="Shilp, Shilp 2018, Civil Engineering, IIT (BHU), IIT">
    <meta name="distribution"              content="Global" />
    <meta name="rating"                    content="General" />
    <meta name="author"                    content="Shilp Tech Team" >

    <!----------------------------------------------------------------------------------------- open graph meta tags---------------------------------------------------------------------------------------->
    <meta property="og:url"                content="http://shilpiitbhu.org/" />
    <meta property="og:title"              content="Shilp 2018" />
    <meta property="og:description"        content="Shilp is the Annual Fest of Civil Engineering IIT (BHU) Varanasi" />
    <meta property="og:image"              content="https://res.cloudinary.com/shilp/image/upload/v1527310423/background.jpg" />
    <meta property="og:type"               content="website">

    <link rel="icon" type="image/ico" href="{% static "images/Asset.png" %}"/>
    <link rel="shortcut icon" type="image/ico" href="{% static "images/Asset.png" %}"/> 
    <!-- Required meta tags-->

    <!-- Title Page-->
    <title>Event Registration</title>

    <!-- Fontfaces CSS-->
    <link href="{% static "css/font-face.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/font-awesome-4.7/css/font-awesome.min.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/font-awesome-5/css/fontawesome-all.min.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/mdi-font/css/material-design-iconic-font.min.css" %}" rel="stylesheet" media="all">

    <!-- Bootstrap CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <!-- Vendor CSS-->
    <link href="{% static "vendor/animsition/animsition.min.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/bootstrap-progressbar/bootstrap-progressbar-3.3.4.min.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/wow/animate.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/css-hamburgers/hamburgers.min.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/slick/slick.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/select2/select2.min.css" %}" rel="stylesheet" media="all">
    <link href="{% static "vendor/perfect-scrollbar/perfect-scrollbar.css" %}" rel="stylesheet" media="all">

    <!-- Main CSS-->
    <link href="{% static "css/theme.css" %}" rel="stylesheet" media="all">

</head>

<style type="text/css">
    .modal-backdrop {
    /* bug fix - no overlay */    
    display: none;    
}
</style>

<body class="animsition">
    <div class="page-wrapper">
        <!-- HEADER MOBILE-->
       <header class="header-mobile d-block d-lg-none">
            <div class="header-mobile__bar">
                <div class="container-fluid">
                    <div class="header-mobile-inner">
                        <button class="hamburger hamburger--slider" type="button">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                        <a class="logo" href="/" style="margin: 0px 25%;">
                            <img src="https://res.cloudinary.com/shilp/image/upload/v1535811762/Icons/nn.png" alt="Shilp18" style="max-width: 70%;">
                        </a>

                    </div>
                </div>
            </div>
            <nav class="navbar-mobile">
                <div class="container-fluid">
                    <ul class="navbar-mobile__list list-unstyled" >
                        <li >
                            <a href="/dashboard">
                                <i class="fa fa-user" aria-hidden="true"></i>Profile</a>

                            </li>
                            <li>
                                <a href="/dashboard/RegPlan">
                                    <i class="fa fa-credit-card" aria-hidden="true"></i>Choose your Plan
                                    {% if Profile.plan_locked %}
                                    <i class="fa fa-check" aria-hidden="true" style="color: green;"></i>

                                    {% else %}
                                    <span class="badge badge-warning">!</span>                                  
                                    {% endif %}


                                </a>
                            </li>
                            <li>
                                <a href="/dashboard/event_reg">
                                    <i class="fa fa-calendar-o" aria-hidden="true"></i></i>Event Registration
                                    {% if Profile.plan_locked %}
                                    {% if Profile.events_locked %}
                                    <i class="fa fa-check" aria-hidden="true" style="color: green;"></i>
                                    {% else %}
                                    <span class="badge badge-warning">!</span>
                                    {% endif %}         
                                    {% endif %}
                                </a>
                            </li>
                            <li>
                                <a href="/dashboard/payment">
                                    <i class="fa fa-credit-card" aria-hidden="true"></i></i>Payment
                                    {% if Profile.events_locked %}
                                    {% if Profile.payment_verified %}
                                        <i class="fa fa-check" aria-hidden="true" style="color: green;"></i>

                                        {% else %}
                                        <span class="badge badge-warning">!</span>                                  
                                        {% endif %}
                                        {% endif %}
                                </a>
                            </li>
                            <li>
                                <a href="/dashboard/team_reg">
                                    <i class="fa fa-users" aria-hidden="true"></i>Team Registration
                                </a>
                            </li>
                            <li>
                                <a href="/dashboard/help">
                                    <i class="fa fa-info-circle" aria-hidden="true"></i>Help
                                </a>
                            </li>
                            
                            <li >
                                <a href="/logout/">
                                    <i class="fa fa-info-circle" aria-hidden="true"></i>Logout
                                </a>
                            </li>

                        </ul>
                    </div>
                </nav>
            </header>
            <!-- END HEADER MOBILE-->

            <!-- MENU SIDEBAR-->
            <aside class="menu-sidebar d-none d-lg-block">
                <div class="logo">
                    <a href="/">
                        <img src="https://res.cloudinary.com/shilp/image/upload/v1535811762/Icons/nn.png" style="width:65%;" alt="{{User.email}}
                        {{Profile.college_name}}" />
                    </a>
                </div>
                <div class="menu-sidebar__content js-scrollbar1">
                    <nav class="navbar-sidebar">
                        <ul class="list-unstyled navbar__list">
                            <li >
                                <a href="/dashboard">
                                    <i class="fa fa-user" aria-hidden="true"></i>Profile</a>

                                </li>
                                <li>
                                    <a href="/dashboard/RegPlan">
                                        
                                        <i class="fa fa-calendar-plus-o" aria-hidden="true"></i>Choose your plan
                                        {% if Profile.plan_locked %}
                                        <i class="fa fa-check" aria-hidden="true" style="color: green;"></i>

                                        {% else %}
                                        <span class="badge badge-warning">!</span>                                  
                                        {% endif %}


                                    </a>
                                </li>
                                <li>
                                    <a href="/dashboard/event_reg">
                                        <i class="fa fa-calendar-o" aria-hidden="true"></i></i>Event Registration
                                        {% if Profile.plan_locked %}
                                        {% if Profile.events_locked %}
                                        <i class="fa fa-check" aria-hidden="true" style="color: green;"></i>
                                        {% else %}
                                        <span class="badge badge-warning">!</span>
                                        {% endif %}         
                                        {% endif %}
                                    </a>
                                </li>
                                <li>
                                <a href="/dashboard/payment">
                                    <i class="fa fa-credit-card" aria-hidden="true"></i></i>Payment
                                    {% if Profile.events_locked %}
                                    {% if Profile.payment_verified %}
                                        <i class="fa fa-check" aria-hidden="true" style="color: green;"></i>

                                        {% else %}
                                        <span class="badge badge-warning">!</span>                                  
                                        {% endif %}
                                        {% endif %}
                                </a>
                            </li>
                                <li>
                                    <a href="/dashboard/team_reg">
                                        <i class="fa fa-users" aria-hidden="true"></i>Team Registration
                                    </a>
                                </li>
                                <li>
                                    <a href="/dashboard/help">
                                        <i class="fa fa-info-circle" aria-hidden="true"></i>Help
                                    </a>
                                </li>
                                <li style="padding-top: 30px;">
                                    <a href="/logout/" >
                                        <i class="fa fa-info-circle" aria-hidden="true"></i>Logout
                                    </a>
                                </li>


                            </ul>
                        </nav>
                    </div>
                </aside>
        
        
                <!-- END MENU SIDEBAR-->

                <!-- PAGE CONTAINER-->
                
                <div class="page-container">
                    <!-- HEADER DESKTOP-->

                    <!-- HEADER DESKTOP-->

                    <!-- MAIN CONTENT-->
                    <div class="main-content">
                        <div class="section__content section__content--p30">
                            <div class="container-fluid">

                                {% if Profile.events_locked %}
                                <div class="container" style="margin-bottom: 20px;">
                                    <h3>Events you have registered</h3>
                                </div>
                                {% else %}
                                <div class="row">
                                    <div class="col-12">
                                        
                                        
                                        {% if not Profile.plan_locked %}
                                         <div class="alert alert-danger" role="alert">
                                            You need to <a href="/dashboard/RegPlan">choose a plan</a> before you can register for events.
                                        </div>
                                        {% else %}
                                        <div class="alert alert-primary" role="alert">

                                            You may register for <b><span id="num-events">{{Profile.num_events}}</span></b> events. Once you lock your events, you are not allowed to change events.

                                        </div>
                                        {% endif %}
                                         
                                    </div>
                                        
                                </div>
                                {% endif %}

                                <div class="row">
                                    <div class="col-12">
                                        <form action="" method="post" id="event-reg" novalidate onsubmit="return validate_events()">
                                            {%csrf_token%}
                                            <div class="row">

                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">Beat The Wind</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name = "nirman" class="switch-input" id="nirman">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334329/hexagon%20icons/a1.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Structural Engineering</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">Questionnaire Round 2</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name = 'questionnaire' class="switch-input" id="questionnaire" >
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334326/hexagon%20icons/a4.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Quizzing Event</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">Delta</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name = "delta" class="switch-input" id="delta">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334327/hexagon%20icons/a6.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Geoinformatics</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">Colloquium</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name = "colloquium" class="switch-input" id="colloquium">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334327/hexagon%20icons/a5.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Paper Presentation</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                


                                            </div>
                                            <div class="row">

                                                
                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">Enviro</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3" >
                                                                        <input name = 'enviro' type="checkbox" class="switch-input" id="enviro">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334326/hexagon%20icons/a8.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Environmental Engineering</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>

                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">iCreate</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name = "icreate" class="switch-input" id="icreate">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334329/hexagon%20icons/a1.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">AutoCAD</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3" style="font-size: .9rem">This or That Way</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name ="this_way_that_way"  class="switch-input" id="this_way_that_way">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536334326/hexagon%20icons/a7.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Transportation Engineering</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>
                                                
                                                <div class="col-12 col-md-3">
                                                    <div class="card">
                                                        <div class="card-header">

                                                            <div class="row">
                                                                <div class="col-8">
                                                                    <strong class="card-title mb-3">IDP</strong>
                                                                </div>
                                                                <div class="col-4 text-right">
                                                                    <label class="switch switch-3d switch-success mr-3">
                                                                        <input type="checkbox" name = "idp" class="switch-input" id="idp">
                                                                        <span class="switch-label"></span>
                                                                        <span class="switch-handle"></span>
                                                                    </label>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="card-body">
                                                            <div class="mx-auto d-block text-center">
                                                                <img class="img-responsive mx-auto d-block text-center" src="https://res.cloudinary.com/shilp/image/upload/v1536403193/hexagon%20icons/a2.png" alt="Card image cap" style="max-width: 30%;">
                                                                <h5 class="text-sm-center mt-2 mb-1">Industry Defined Problem</h5>

                                                            </div>


                                                        </div>

                                                    </div>
                                                </div>

                                                


                                            </div>

                                            <div class="row">

                                                

                                            </div>


                                            <div class="row" style="margin-bottom: 5%;">
                                                <div class="col-lg-4 offset-lg-4">

                                                    {% if Profile.events_locked %}
                                                    <button id="payment-button" type="submit" class="btn btn-lg btn-info btn-block"  form="event-reg" disabled>
                                                        <i class="fa fa-lock" aria-hidden="true"></i>
                                                        <span id="payment-button-amount">Locked</span>
                                                    </button>
                                                    {% else %}
                                                    <button id="payment-button" type="submit" class="btn btn-lg btn-info btn-block"  form="event-reg">
                                                        <i class="fa fa-unlock-alt" aria-hidden="true"></i>
                                                        <span id="payment-button-amount">Submit</span>
                                                    </button>
                                                    {% endif %}
                                                    
                                                </div>
                                            </div>      

                                        </form>
                                    </div>
                                </div>

                                



                                <div class="modal" id="mediumModal" tabindex="-1" role="dialog" aria-labelledby="mediumModalLabel" aria-hidden="true" >
                                    <div class="modal-dialog modal-lg" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="mediumModalLabel">You have selected too many events</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">×</span>
                                                </button>

                                            </div>
                                            <div class="modal-body">
                                                <p>
                                                    Number of events you may register: {{Profile.num_events}}
                                                </p>
                                                <p>
                                                    Number of events you have selected: <span id="num_events"></span> 
                                                </p>
                                            </div>

                                        </div>
                                    </div>
                                </div>  




                            </div>
                        </div>
                    </div>
                </div>
                <!-- END PAGE CONTAINER-->
                <div id="SuccessModal" class="modal fade" role="dialog">
                    <div class="modal-dialog modal-lg">

                        <!-- Modal content-->
                        <div class="modal-content">

                            <div class="modal-body">
                                <div class="row">
                                    <div class="col-lg-4 text-center">
                                        <i class="fa fa-check-circle" aria-hidden="true" style="font-size: 5rem; color: green;"></i>
                                    </div>
                                    <div class="col-lg-8">
                                        Changes were succesful. Your events will be locked once you submit your transaction ID. 
                                    </div>
                                </div>

                            </div>

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>

                        </div>

                    </div>
                </div>





            </div>

           

            <script src="{% static "vendor/jquery-3.2.1.min.js" %}"></script>
            <!-- Bootstrap JS-->

            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
            <!-- Vendor JS       -->
            <script src="{% static "vendor/slick/slick.min.js" %}">
            </script>
            <script src="{% static "vendor/wow/wow.min.js" %}"></script>
            <script src="{% static "vendor/animsition/animsition.min.js" %}"></script>
            <script src="{% static "vendor/bootstrap-progressbar/bootstrap-progressbar.min.js" %}">
            </script>
            <script src="{% static "vendor/counter-up/jquery.waypoints.min.js" %}"></script>
            <script src="{% static "vendor/counter-up/jquery.counterup.min.js" %}">
            </script>
            <script src="{% static "vendor/circle-progress/circle-progress.min.js" %}"></script>
            <script src="{% static "vendor/perfect-scrollbar/perfect-scrollbar.js" %}"></script>
            <script src="{% static "vendor/chartjs/Chart.bundle.min.js" %}"></script>
            <script src="{% static "vendor/select2/select2.min.js" %}">
            </script>

            <!-- Main JS-->
            <script src="{% static "js/main1.js" %}"></script>
            <script type="text/javascript">
                var switch_inputs=document.getElementsByClassName("switch-input");
                var cards=document.getElementsByClassName("card");

               //   if("{{Profile.plan_locked}}"==="False"){
               //       for (var i = 0; i < switch_inputs.length; i++) {
               //         switch_inputs[i].disabled=true;
               //     }


               //     for (var i = 0; i < cards.length; i++) {
               //         cards[i].style.opacity='.8';
               //     }

               //     document.getElementById("payment-button").disabled = true; 
               // }


              function validate_events() {

                c=0;
                for (var i = switch_inputs.length - 1; i >= 0; i--) {
                    if(switch_inputs[i].checked===true){
                        c=c+1;
                    }

                }

                if(c>{{Profile.num_events}}){

                    $('#mediumModal').modal('show');
                     $(".modal-backdrop.in").hide();
                    document.getElementById("num_events").innerHTML=c;
                    return false;
                }
                else{
                    return true;
                }

            }



        </script>

        
        <script type="text/javascript">
            var x={{events|safe}};
            {% if Profile.events_locked %}
                for (var i = 0; i < switch_inputs.length; i++) {
                    switch_inputs[i].disabled=true;
                    cards[i].style.opacity='.8';
                          
                }
            {% endif %}

            for (var i = 0; i < cards.length; i++) {
                
                for (var j = 0; j < x.length; j++) {
                    
                    if(x[j]===switch_inputs[i].getAttribute('id')){
                        switch_inputs[i].checked=true;
                    }
                }
            }
            
            




            
        </script>
        

     </body>

     </html>
<!-- end document-->